/**
* jquery lightYear plugin
* "Scroll for infinity... and beyond!" Well, you can keep scrolling anyway. It's just a carousel. Nothing much.
* @author Phil Steer (@pdincubus)
* https://github.com/pdincubus/jquery.lightYear
*
* Kudos to this demo that gave me the obvious way forward with this:
* http://web.enavu.com/tutorials/making-an-infinite-jquery-carousel/
* Updated to make it a plugin, pass settings, use latest jQuery,
* make more automated, requires less css styles for base setup,
* autoslide options, and easing
*/
(function(e){e.fn.lightYear=function(t){var n=e.extend({animationDuration:500,slideEasing:"swing",autoSlide:true,waitTime:4e3,slideContainer:"lightYearContain",navNext:"navNext",navPrev:"navPrev"},t);return this.each(function(){function o(){s=parseInt(e("#"+n.slideContainer+" > ul").css("left"),10)-t;e("#"+n.slideContainer+" > ul").animate({left:s},parseInt(n.animationDuration,10),n.slideEasing,function(){e("#"+n.slideContainer+" > ul > li:last").after(e("#"+n.slideContainer+" > ul > li:first"));e("#"+n.slideContainer+" > ul > li").addClass("invisible");e("#"+n.slideContainer+" > ul > li").eq(1).removeClass("invisible");e("#"+n.slideContainer+" > ul").css({left:"-"+t+"px"})})}var t=e("#"+n.slideContainer+" > ul > li").outerWidth(true),r=e("#"+n.slideContainer+" > ul > li").size(),i=r*t,s=0;if(r==1){e("#"+n.navNext+", #"+n.navPrev).hide()}else{e("#"+n.slideContainer+" > ul > li:first").before(e("#"+n.slideContainer+" > ul > li:last"));e("#"+n.slideContainer+" > ul > li").addClass("invisible");e("#"+n.slideContainer+" > ul > li").eq(1).removeClass("invisible");e("#"+n.slideContainer+" > ul").css({left:"-"+t+"px",width:i})}if(n.autoSlide===true){if(r>2){var u=setInterval(o,n.waitTime)}}e("#"+n.navNext).on("click",function(){if(n.autoSlide===true){clearTimeout(u)}if(e("#"+n.slideContainer+" > ul").is(":animated")===true){return}s=parseInt(e("#"+n.slideContainer+" > ul").css("left"),10)-t;e("#"+n.slideContainer+" > ul").animate({left:s},parseInt(n.animationDuration,10),n.slideEasing,function(){e("#"+n.slideContainer+" > ul > li:last").after(e("#"+n.slideContainer+" > ul > li:first"));e("#"+n.slideContainer+" > ul > li").addClass("invisible");e("#"+n.slideContainer+" > ul > li").eq(1).removeClass("invisible");e("#"+n.slideContainer+" > ul").css({left:"-"+t+"px"})});if(n.autoSlide===true){if(r>1){u=setInterval(o,n.waitTime)}}});e("#"+n.navPrev).on("click",function(){if(n.autoSlide===true){clearTimeout(u)}if(e("#"+n.slideContainer+" > ul").is(":animated")===true){return}s=parseInt(e("#"+n.slideContainer+" > ul").css("left"),10)+t;e("#"+n.slideContainer+" > ul").animate({left:s},parseInt(n.animationDuration,10),n.slideEasing,function(){e("#"+n.slideContainer+" > ul > li:first").before(e("#"+n.slideContainer+" > ul > li:last"));e("#"+n.slideContainer+" > ul > li").addClass("invisible");e("#"+n.slideContainer+" > ul > li").eq(1).removeClass("invisible");e("#"+n.slideContainer+" > ul").css({left:"-"+t+"px"})});if(n.autoSlide===true){u=setInterval(o,n.waitTime)}})})}})(jQuery);
